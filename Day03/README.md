# Virtual Environment & Libraries Rush — Техническое задание

---

## Exercise 00 — Виртуальное окружение

**Папка:** `ex00/`  
**Файлы:** `venv.py`, папка с вашим виртуальным окружением  
**Разрешённый импорт:** `os`

**Задача:**

1. Создать виртуальное окружение с именем вашего никнейма (Python 3).  
2. Активировать окружение.  
3. Запустить Python и вывести имя окружения, используя модуль `os`.  
4. Написать скрипт `venv.py`, который при запуске выводит путь к активному окружению:

```
$ ./venv.py
Your current virtual env is /Users/Username/envname
```


5. Деактивировать окружение и снова запустить скрипт (ожидается ошибка — важно понимать, почему).

---

## Exercise 01 — Установка пакета

**Папка:** `ex01/`
**Файлы:** `pies_bars.sh`, файл данных, папка виртуального окружения
**Разрешения:** без ограничений

**Задача:**

- установить библиотеку **termgraph** в ранее созданное виртуальное окружение;
- создать визуализацию (как в примере, но другой цветовой схемы);
- скрипт `pies_bars.sh` должен содержать только команду построения графика (без активации env).

---

## Exercise 02 — Установка нескольких библиотек

**Папка:** `ex02/`
**Файлы:** `librarian.py`, архив виртуального окружения
**Разрешения:** без ограничений

**Условия:**

- нужно установить **BeautifulSoup** и **PyTest**;
- запрещено:
  - устанавливать пакеты по одному (`pip install x`);
  - использовать циклы;
- установка должна производиться через **requirements**.

**Скрипт `librarian.py` должен:**

1. Проверить, что он запущен **в правильном виртуальном окружении**.
2. Установить нужные пакеты.
3. Вывести список всех установленных библиотек в формате:


```
six==1.14.0
soupsieve==2.0
termgraph==0.2.0
...
```


4. Сохранить список в `requirements.txt`.
5. Добавить архив окружения в папку.
6. Если окружение неправильное — вызвать исключение.

---

## Exercise 03 — Very Beautiful Soup (Парсинг)

**Папка:** `ex03/`
**Файл:** `financial.py`
**Разрешения:** без ограничений

**Задача:**

- реализовать парсинг Yahoo Finance (через BS + вашу HTTP-библиотеку);
- вход: тикер, название поля таблицы (пример: `'MSFT' 'Total Revenue'`);
- выход: кортеж вида:`('Total Revenue', '134,249,000', '125,843,000', '110,360,000', ...)`


**Особые условия:**

- если URL не существует → исключение;
- если поле в таблице не найдено → исключение;
- обязательно использовать `sleep(5)` внутри скрипта.

---

## Exercise 04 — Профилирование

**Папка:** `ex04/`
**Файлы:**
`financial.py`, `financial_enhanced.py`,
`profiling-sleep.txt`, `profiling-tottime.txt`,
`profiling-http.txt`, `profiling-ncalls.txt`

**Задачи:**

1. **Профилирование cProfile:**
   - отсортировать по total time — сохранить в `profiling-sleep.txt`.

2. Удалить `sleep(5)`:
   - повторить профилирование — сохранить в `profiling-tottime.txt`.

3. Использовать другой HTTP-клиент:
   - улучшенная версия — `financial_enhanced.py`;
   - сохранить профилирование в `profiling-http.txt`.

4. Отсортировать профилирование по числу вызовов:
   - сохранить в `profiling-ncalls.txt`.

5. Использовать `pstats`, отсортировать по cumulative time:
   - вывести топ-5 — сохранить в `pstats-cumulative.txt`.

---

## Exercise 05 — PyTest

**Папка:** `ex05/`
**Файл:** `financial_test.py`
**Разрешения:** без ограничений

**Задача:**

- протестировать функции из `financial.py`;
- минимум **3 теста на каждую функцию**.

**Тесты должны проверять:**

- корректность возвращаемых данных (например, поле `Total Revenue`);
- тип результата (`tuple`);
- корректное возбуждение исключений:
  - неверный тикер,
  - несуществующее поле.

**Требования:**

- тесты должны быть внутри файла `financial_test.py`;
- PyTest должен проходить успешно.

---



